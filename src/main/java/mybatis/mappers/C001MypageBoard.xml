<!DOCTYPE mapper
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.myboard">
	<resultMap id="myboardResult" type="C001ClassBoardVO">
		<result property="boNum" column="boNum" />
		<result property="boCode" column="boCode" />
		<result property="boContent" column="boContent" />
		<result property="boRegDate" column="boRegDate" />
		<result property="boTitle" column="boTitle" />
		<result property="boUpdateDate" column="boUpdateDate" />
		<result property="boViews" column="boViews" />
		<result property="boLikes" column="boLikes" />
		<result property="boURL" column="boURL" />
		<result property="memNum" column="memNum" />
	</resultMap>


	<select id="getListWithPaging" resultType="C001ClassBoardVO">
	<![CDATA[
		select  boNum,boCode, boContent, boRegDate, boTitle,boUpdateDate,boViews,boLikes,boURL,memNum
	from(
	    select rownum rn, boNum,boCode, boContent, boRegDate, boTitle,boUpdateDate,boViews,boLikes,boURL,memNum
	    from CLASSBOARD
	    where rownum <= (#{page}*#{amount})
	    order by boNum desc
	    )
	where rn > ((#{page}-1)*#{amount})
	]]>
	</select>

	<select id="getTotal" resultType="int">
	<![CDATA[
         select count(boNum) from CLASSBOARD
      ]]>
	</select>


	<select id="read" resultType="C001ClassBoardVO">
	<![CDATA[
		select * from CLASSBOARD where
		boNum=#{boNum}
		]]>
	</select>

</mapper>